{"ServiceScalingTarget0":{"Type":"AWS::ApplicationAutoScaling::ScalableTarget","Properties":{"ResourceId":{"Fn::Join":["",["service\/",{"Ref":"ECSCluster"},"\/",{"Ref":"ServiceName"}]]},"ServiceNamespace":"ecs","ScalableDimension":"ecs:service:DesiredCount","MinCapacity":1,"RoleARN":{"Fn::GetAtt":["AutoscalingRole","Arn"]},"MaxCapacity":2}},"ServiceScalingTarget1":{"Type":"AWS::ApplicationAutoScaling::ScalableTarget","Properties":{"ResourceId":{"Fn::Join":["",["service\/",{"Ref":"ECSCluster"},"\/",{"Ref":"ServiceName"}]]},"ServiceNamespace":"ecs","ScalableDimension":"ecs:service:DesiredCount","MinCapacity":1,"RoleARN":{"Fn::GetAtt":["AutoscalingRole","Arn"]},"MaxCapacity":2}},"ServiceCPUUPAlarm1":{"Type":"AWS::CloudWatch::Alarm","Properties":{"AlarmActions":[{"Ref":"ServiceCPUScaleUp"},{"Ref":"NotificationTopic"}],"MetricName":"CPUUtilization","ActionsEnabled":"true","ComparisonOperator":"GreaterThanOrEqualToThreshold","Statistic":"Average","Period":"300","Dimensions":[{"Value":{"Ref":"ECSCluster"},"Name":"ClusterName"},{"Value":{"Ref":"ServiceName"},"Name":"ServiceName"}],"EvaluationPeriods":"1","Unit":"Percent","Namespace":"AWS\/ECS","Threshold":"60.0"}},"ServiceCPUDownAlarm0":{"Type":"AWS::CloudWatch::Alarm","Properties":{"AlarmActions":[{"Ref":"ServiceCPUScaleDown"},{"Ref":"NotificationTopic"}],"MetricName":"CPUUtilization","ActionsEnabled":"true","ComparisonOperator":"LessThanOrEqualToThreshold","Statistic":"Average","Period":"300","Dimensions":[{"Value":{"Ref":"ECSCluster"},"Name":"ClusterName"},{"Value":{"Ref":"ServiceName"},"Name":"ServiceName"}],"EvaluationPeriods":"1","Unit":"Percent","Namespace":"AWS\/ECS","Threshold":"40.0"}},"ServiceCPUUPAlarm0":{"Type":"AWS::CloudWatch::Alarm","Properties":{"AlarmActions":[{"Ref":"ServiceCPUScaleUp"},{"Ref":"NotificationTopic"}],"MetricName":"CPUUtilization","ActionsEnabled":"true","ComparisonOperator":"GreaterThanOrEqualToThreshold","Statistic":"Average","Period":"300","Dimensions":[{"Value":{"Ref":"ECSCluster"},"Name":"ClusterName"},{"Value":{"Ref":"ServiceName"},"Name":"ServiceName"}],"EvaluationPeriods":"1","Unit":"Percent","Namespace":"AWS\/ECS","Threshold":"60.0"}},"ServiceCPUDownAlarm1":{"Type":"AWS::CloudWatch::Alarm","Properties":{"AlarmActions":[{"Ref":"ServiceCPUScaleDown"},{"Ref":"NotificationTopic"}],"MetricName":"CPUUtilization","ActionsEnabled":"true","ComparisonOperator":"LessThanOrEqualToThreshold","Statistic":"Average","Period":"300","Dimensions":[{"Value":{"Ref":"ECSCluster"},"Name":"ClusterName"},{"Value":{"Ref":"ServiceName"},"Name":"ServiceName"}],"EvaluationPeriods":"1","Unit":"Percent","Namespace":"AWS\/ECS","Threshold":"40.0"}},"svcnwAwsvpc0":{"Condition":"SvcAWSVPC","Type":"AWS::ECS::Service","Properties":{"TaskDefinition":{"Ref":"TaskDefinition"},"ServiceName":{"Ref":"ServiceName"},"Cluster":{"Ref":"ECSCluster"},"NetworkConfiguration":{"AwsvpcConfiguration":{"SecurityGroups":[{"Ref":"EcsSecurityGroup"}],"Subnets":{"Ref":"SubnetId"}}},"DesiredCount":{"Ref":"DesiredTask"}}},"svcnwOthers1":{"Condition":"SvcNoAWSVPC","Type":"AWS::ECS::Service","Properties":{"TaskDefinition":{"Ref":"TaskDefinition"},"ServiceName":{"Ref":"ServiceName"},"Cluster":{"Ref":"ECSCluster"},"DesiredCount":{"Ref":"DesiredTask"}}},"svcnwOthers0":{"Condition":"SvcNoAWSVPC","Type":"AWS::ECS::Service","Properties":{"TaskDefinition":{"Ref":"TaskDefinition"},"ServiceName":{"Ref":"ServiceName"},"Cluster":{"Ref":"ECSCluster"},"DesiredCount":{"Ref":"DesiredTask"}}},"svcnwAwsvpc1":{"Condition":"SvcAWSVPC","Type":"AWS::ECS::Service","Properties":{"TaskDefinition":{"Ref":"TaskDefinition"},"ServiceName":{"Ref":"ServiceName"},"Cluster":{"Ref":"ECSCluster"},"NetworkConfiguration":{"AwsvpcConfiguration":{"SecurityGroups":[{"Ref":"EcsSecurityGroup"}],"Subnets":{"Ref":"SubnetId"}}},"DesiredCount":{"Ref":"DesiredTask"}}}}